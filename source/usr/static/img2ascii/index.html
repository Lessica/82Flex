<!DOCTYPE html><html><head><meta charset="UTF-8"><title>image2ascii</title><style type="text/css">.asciiart{line-height:7px;font-family:"Courier New","Courier","mono";font-size:11px;}</style></head><body><form id="uf"><input type="file" name="file" id="upload-button"></form><br /><canvas id="drawArea">Your browser cannot support Canvas2D.</canvas><div id="textArea" class="asciiart"></div></body><script>var cv=document.getElementById('drawArea');var c=cv.getContext('2d');var txtDiv=document.getElementById('textArea');var fileBtn=document.getElementById("upload-button");var img=new Image();img.src='./example.jpg';img.onload=init;fileBtn.onchange=getImg;function toText(g){if(g<=30){return'#'}else if(g>30&&g<=60){return'&'}else if(g>60&&g<=120){return'$'}else if(g>120&&g<=150){return'*'}else if(g>150&&g<=180){return'o'}else if(g>180&&g<=210){return'!'}else if(g>210&&g<=240){return';'}else{return'Â '}}function getGray(r,g,b){return 0.299*r+0.578*g+0.114*b}function init(){txtDiv.style.width=img.width+'px';cv.width=img.width;cv.height=img.height;c.drawImage(img,0,0);var imgData=c.getImageData(0,0,img.width,img.height);var imgDataArr=imgData.data;var imgDataWidth=imgData.width;var imgDataHeight=imgData.height;var html='';for(h=0;h<imgDataHeight;h+=12){var p='<p>';for(w=0;w<imgDataWidth;w+=6){var index=(w+imgDataWidth*h)*4;var r=imgDataArr[index+0];var g=imgDataArr[index+1];var b=imgDataArr[index+2];var gray=getGray(r,g,b);p+='<font style="color: rgb('+r+', '+g+', '+b+');">'+toText(gray)+'</font>'}p+='</p>';html+=p}txtDiv.innerHTML=html}function getImg(file){var reader=new FileReader();reader.readAsDataURL(fileBtn.files[0]);reader.onload=function(){img.src=reader.result}}</script></html>